<script>
  document.addEventListener('DOMContentLoaded', function() {
    let currentImageIndex = 0;
    let showBlackSlide = false;
    const images = document.querySelectorAll('.slideshow-image');
    const blackSlide = document.querySelector('.black-slide');
    
    function changeSlide() {
      if (showBlackSlide) {
        // Hide black slide
        blackSlide.style.display = 'none';
        // Show the next image
        images[currentImageIndex].style.display = 'block';
        setTimeout(() => {
          changeSlide();
        }, 45000); // Show image for 45 seconds
      } else {
        // Hide the current image
        images[currentImageIndex].style.display = 'none';
        // Show black slide
        blackSlide.style.display = 'block';
        setTimeout(() => {
          // Prepare for next image or reload
          if (currentImageIndex === images.length - 1) {
            location.reload(); // Reload when last image has finished displaying
          } else {
            changeSlide();
          }
        }, 1000); // Show black slide for 1 second
      }
      // Toggle between showing image and black slide
      showBlackSlide = !showBlackSlide;
      // Increment index or loop back to the first image
      if (!showBlackSlide) {
        currentImageIndex = (currentImageIndex + 1) % images.length;
      }
    }

    // Start the slideshow after a short delay to ensure first image shows correctly
    setTimeout(changeSlide, 45000); // Initially display the first image for 45 seconds
  });
</script>
